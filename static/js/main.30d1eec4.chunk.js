(this["webpackJsonpreact-app"]=this["webpackJsonpreact-app"]||[]).push([[0],{115:function(e,t,n){},116:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),o=n(42),c=n.n(o),l=(n(52),n(6)),i=n.n(l),u=n(43),s=n(5),d=n(46),m=n(14),f=function(){var e=Object(a.useState)(!1),t=Object(s.a)(e,2),n=t[0],o=t[1],c=Object(a.useState)([]),l=Object(s.a)(c,2),i=l[0],u=l[1];return Object(a.useEffect)((function(){return Object(m.Hook)(window.console,(function(e){return u((function(t){return[].concat(Object(d.a)(t),[e])}))}),!1),function(){return Object(m.Unhook)(window.console)}}),[]),r.a.createElement(r.a.Fragment,null,r.a.createElement("button",{onClick:function(){return o(!n)}},"Console"),n?r.a.createElement("div",{style:{backgroundColor:"#242424",maxHeight:"50vh",minHeight:"50vh",maxWidth:"800px",margin:"auto",overflowY:"scroll",textAlign:"start"}},r.a.createElement(m.Console,{logs:i,variant:"dark"})):null)},v=n(21);n(115);var b=function(){var e=Object(a.useState)(null),t=Object(s.a)(e,2),n=t[0],o=t[1],c=Object(a.useState)(null),l=Object(s.a)(c,2),d=l[0],m=l[1],b=Object(a.useState)("Select a file and click Convert to start"),p=Object(s.a)(b,2),h=p[0],g=p[1],j=Object(a.useState)(null),O=Object(s.a)(j,2),w=O[0],E=O[1],k=Object(v.createFFmpeg)({log:!0,progress:function(e){return E(100*e.ratio)}}),x=Object(a.useRef)(null),S=function(e){return new Promise((function(t,n){try{var a=document.createElement("video");a.preload="metadata",a.onloadedmetadata=function(){t(this)},a.onerror=function(){n("Invalid video. Please select a video file.")},a.src=window.URL.createObjectURL(e)}catch(r){n(r)}}))},y=function(){var e=Object(u.a)(i.a.mark((function e(){var t,n,a,r,c,l,u,s,d,m,f;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=x.current.files,n=t[0].name,e.next=4,S(t[0]);case 4:return a=e.sent,r=a.duration,c=Math.floor(131072/r*.97),l=Math.min(Math.floor(c*(1/3)),128),u=Math.floor(c-l),s=l+"k",d=u+"k",m="",m=a.videoWidth>=a.videoHeight?"640:-1":"-1:640",g("Loading ffmpeg-core.js"),e.next=16,k.load();case 16:return o(null),g("Converting..."),e.t0=k,e.t1=n,e.next=22,Object(v.fetchFile)(t[0]);case 22:return e.t2=e.sent,e.t0.FS.call(e.t0,"writeFile",e.t1,e.t2),e.next=26,k.run("-y","-i",n,"-c:v","libx264","-b:v",d,"-b:a",s,"-maxrate",d,"-vf","scale="+m,"convert.mp4");case 26:g("Conversion completed. Right-click the video and choose 'Save video as...'."),f=k.FS("readFile","convert.mp4"),o(URL.createObjectURL(new Blob([f.buffer],{type:"video/mp4"})));case 29:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return r.a.createElement("div",{className:"App"},r.a.createElement("p",null),r.a.createElement("input",{type:"file",id:"uploader",ref:x,onChange:function(e){e.target.files.length>0?(m(!0),o(null)):m(null)},disabled:w>0&&w<100}),r.a.createElement("button",{onClick:y,disabled:null==d||w>0&&w<100},"Convert"),r.a.createElement("br",null),r.a.createElement("video",{src:n,controls:!0,style:{display:null!=n?"initial":"none"}}),r.a.createElement("br",null),r.a.createElement("p",null,h),r.a.createElement("br",null),w&&r.a.createElement("p",null,w.toFixed(0),"%"),r.a.createElement(f,null))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(b,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},47:function(e,t,n){e.exports=n(116)},52:function(e,t,n){}},[[47,1,2]]]);
//# sourceMappingURL=main.30d1eec4.chunk.js.map